# ImitatorT 环境变量配置

# ============================================
# 核心配置
# ============================================

# 输出模式: web, cli, a2a
OUTPUT_MODE=web

# ============================================
# OpenAI API 配置（支持自定义端点）
# ============================================

# OpenAI API 密钥（必填）
# 支持任意兼容 OpenAI API 格式的服务（如 LiteLLM、Ollama、DeepSeek 等）
OPENAI_API_KEY=your_openai_api_key_here

# 模型名称（默认: gpt-4o-mini）
# 根据你的 API 提供商选择合适的模型，如:
# - OpenAI: gpt-4o, gpt-4o-mini, gpt-4-turbo
# - DeepSeek: deepseek-chat, deepseek-reasoner
# - Ollama: llama3, qwen2.5 等本地模型
OPENAI_MODEL=gpt-4o-mini

# API 基础 URL（默认: https://api.openai.com/v1）
# 自定义端点示例:
# - OpenAI: https://api.openai.com/v1
# - DeepSeek: https://api.deepseek.com/v1
# - Ollama: http://localhost:11434/v1
# - LiteLLM Proxy: http://localhost:4000/v1
# - Azure: https://your-resource.openai.azure.com/openai/deployments/your-deployment
OPENAI_BASE_URL=https://api.openai.com/v1

# 系统提示词
SYSTEM_PROMPT=你是虚拟公司中的无状态智能体。所有记忆来自传入上下文。信息不足时明确提出所需信息。你可以使用工具来执行命令或获取网页内容。

# ============================================
# Web 服务器配置
# ============================================

# Web 服务器绑定地址
WEB_BIND=0.0.0.0:8080

# Web 公开 URL（用于生成链接）
# WEB_PUBLIC_URL=https://example.com

# 是否启用 WebSocket
WEB_ENABLE_WS=true

# WebSocket 心跳间隔（秒）
WEB_WS_HEARTBEAT_SEC=30

# ============================================
# A2A 配置
# ============================================

# Agent ID
AGENT_ID=agent-001

# Agent 名称
AGENT_NAME=Virtual Agent

# A2A 默认目标 Agent ID
# A2A_TARGET_AGENT=agent-002

# 注册为 Peer 的其他 Agents（逗号分隔）
# A2A_PEER_AGENTS=agent-002,agent-003

# ============================================
# 数据库存储配置
# ============================================

# 数据库 URL（支持 SQLite 和 PostgreSQL）
# SQLite 示例: sqlite://./data/imitatort.db
# PostgreSQL 示例: postgres://user:pass@localhost/imitatort
DATABASE_URL=sqlite://./data/imitatort.db

# 数据库连接池配置
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=2

# 存储类型: memory, persistent（已弃用，使用 DATABASE_URL 替代）
STORE_TYPE=memory

# 持久化存储路径（仅在 persistent 类型下使用）
STORE_PATH=./data

# 上下文消息数量限制
CONTEXT_LIMIT=50

# 存储消息数量上限
STORE_MAX_SIZE=1000

# ============================================
# IM 配置
# ============================================

# IM 消息保留数量
IM_MAX_MESSAGES=10000

# 会话最大成员数
IM_MAX_MEMBERS=500

# 是否允许未登录访问（演示模式）
IM_ALLOW_ANONYMOUS=true

# ============================================
# CLI 配置
# ============================================

# 单次执行的输入消息
# INPUT_MESSAGE=Hello, Agent!

# 是否以交互模式运行
INTERACTIVE=false

# 是否在 CLI 模式下回显消息
CLI_ECHO=true

# ============================================
# 董事局配置
# ============================================

# 董事局主席账号用户名（默认: chairman）
BOARD_CHAIRMAN=chairman

# 董事局成员 JSON 配置（可选）
# 格式: [{"username":"xxx","password":"xxx","name":"xxx","is_chairman":true},...]
# 如果内存中无董事数据，将使用此配置初始化
# BOARD_MEMBERS_JSON=[{"username":"chairman","password":"admin123","name":"董事局主席","is_chairman":true}]

# JWT 密钥（用于董事登录认证，生产环境请修改）
BOARD_JWT_SECRET=imitatort-board-secret-key

# JWT Token 过期时间（小时，默认: 24）
BOARD_TOKEN_EXPIRE_HOURS=24

# ============================================
# 日志配置
# ============================================

# 日志格式: pretty, json, compact
LOG_FORMAT=pretty
